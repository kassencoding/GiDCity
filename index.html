<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Aitax SuperApp</title>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>

    <div id="bg-layer" class="bg-cyber">
        <div class="ai-grid"></div>
    </div>

    <header class="app-header">
        <div class="header-status-bar">
            <span id="current-city">Karaganda</span> ‚Ä¢ <span class="weather-temp">-2¬∞C ‚ùÑÔ∏è</span>
        </div>
        <div class="header-main-row">
            <h1 class="app-logo">Aitax</h1>
            <button class="btn-icon-glass" id="open-settings">
                <ion-icon name="settings-sharp"></ion-icon>
            </button>
        </div>
    </header>

    <main id="main-content">
        
        <section id="tab-home" class="screen active home-screen-layout">
            <div class="ai-chat-area nice-scroll">
                <div class="ai-message-bubble ai-intro">
                    <div class="ai-avatar-mini">Ai</div>
                    <div class="msg-text">–ü—Ä–∏–≤–µ—Ç! –Ø Aitax AI. –£–¥–µ—Ä–∂–∏–≤–∞–π —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—É—é –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã –∑–∞–∫–∞–∑–∞—Ç—å —Ç–∞–∫—Å–∏ –≥–æ–ª–æ—Å–æ–º.</div>
                </div>
                </div>

            <div class="fixed-order-panel glass-panel">
                <div class="drag-indicator"></div>
                <div class="input-row compact">
                    <ion-icon name="navigate" class="icon-accent"></ion-icon>
                    <input type="text" value="–ú–æ—ë –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ" readonly class="glass-input dim">
                </div>
                <div class="separator-thin"></div>
                <div class="input-row compact">
                    <ion-icon name="location" class="icon-primary"></ion-icon>
                    <input type="text" id="input-destination" placeholder="–ö—É–¥–∞ –µ–¥–µ–º?" class="glass-input highlight">
                </div>
                
                <div class="options-grid">
                     <div class="input-box glass-box">
                        <label>–ë—é–¥–∂–µ—Ç</label>
                        <input type="number" id="input-budget" placeholder="‚Ç∏" class="glass-input-num">
                    </div>
                     <div class="input-box glass-box">
                        <label>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</label>
                        <input type="text" placeholder="..." class="glass-input-small">
                    </div>
                </div>

                <div class="tariff-picker">
                    <div class="tariff-item selected" onclick="selectTariff(this)">Eco <small>800‚Ç∏</small></div>
                    <div class="tariff-item" onclick="selectTariff(this)">Comfort <small>1200‚Ç∏</small></div>
                    <div class="tariff-item lux" onclick="selectTariff(this)">Lux <small>2500‚Ç∏</small></div>
                </div>

                <button class="action-btn-large glow">–ü–æ–µ—Ö–∞–ª–∏</button>
            </div>
            
            <button class="ai-hold-trigger" ontouchstart="startAiListening()" ontouchend="stopAiListening()">
            </button>
        </section>

        <section id="tab-map" class="screen map-screen">
            <div class="map-frame-container">
                <iframe src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d162758.6527782294!2d73.11585125!3d49.80167255!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sru!2skz!4v1708612345678!5m2!1sru!2skz" 
                        width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                
                <div class="map-sticker glass-sticker" style="top: 30%; left: 25%;" onclick="openModal('modal-promo-burger')">
                    <span class="sticker-icon">üçî</span> Burger King -20%
                </div>
                <div class="map-sticker glass-sticker" style="top: 55%; left: 60%;" onclick="openModal('modal-promo-cinema')">
                    <span class="sticker-icon">üé¨</span> –ö–∏–Ω–æ–ø–∞—Ä–∫ –ê–∫—Ü–∏—è
                </div>
            </div>
        </section>

        <section id="tab-social" class="screen social-screen">
            <div class="threads-composer glass-panel-flat">
                <div class="composer-row">
                    <div class="user-avatar-small">R</div>
                    <div class="composer-input-col">
                        <span class="composer-placeholder">–ß—Ç–æ –Ω–æ–≤–æ–≥–æ, Rork?</span>
                        <div class="composer-actions">
                            <button class="btn-attach"><ion-icon name="attach"></ion-icon></button>
                            <button class="btn-post-small">–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="threads-feed nice-scroll">
                <div class="thread-post glass-card-flat">
                    <div class="post-header">
                        <div class="user-avatar-mini">A</div>
                        <span class="post-author">Aisulu</span>
                        <span class="post-time">5–º</span>
                    </div>
                    <div class="post-content">
                        –ö—Ç–æ –∑–Ω–∞–µ—Ç, –∫–æ–≥–¥–∞ –æ—Ç–∫—Ä–æ—é—Ç –¥–æ—Ä–æ–≥—É –Ω–∞ –Æ–≥–æ-–í–æ—Å—Ç–æ–∫–µ? –ü—Ä–æ–±–∫–∏ —É–∂–∞—Å–Ω—ã–µ.
                    </div>
                    <div class="post-actions">
                        <ion-icon name="heart-outline"></ion-icon> 12
                        <ion-icon name="chatbubble-outline"></ion-icon> 4
                    </div>
                </div>
            </div>
        </section>

        <section id="tab-wallet" class="screen wallet-screen">
             <div class="wallet-main-card glass-card-premium">
                <div class="balance-title">–î–æ—Å—Ç—É–ø–Ω—ã–π –±–∞–ª–∞–Ω—Å</div>
                <div class="balance-amount">45 200.00 ‚Ç∏</div>
                <div class="wallet-quick-actions">
                    <button class="action-circle-btn" onclick="openModal('modal-wallet-topup')">
                        <div class="circle-icon"><ion-icon name="add"></ion-icon></div>
                        <span>–ü–æ–ø–æ–ª–Ω–∏—Ç—å</span>
                    </button>
                    <button class="action-circle-btn" onclick="openModal('modal-wallet-withdraw')">
                        <div class="circle-icon"><ion-icon name="arrow-down"></ion-icon></div>
                        <span>–í—ã–≤–µ—Å—Ç–∏</span>
                    </button>
                    <button class="action-circle-btn" onclick="openModal('modal-wallet-transfer')">
                        <div class="circle-icon"><ion-icon name="swap-horizontal"></ion-icon></div>
                        <span>–ü–µ—Ä–µ–≤–æ–¥</span>
                    </button>
                </div>
            </div>
            <div class="transactions-list">
                <h3>–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏</h3>
                <div class="tx-item glass-list-item">
                    <div class="tx-icon down"><ion-icon name="car"></ion-icon></div>
                    <div class="tx-details">
                        <span class="tx-title">–ü–æ–µ–∑–¥–∫–∞ Aitax</span>
                        <small>–°–µ–≥–æ–¥–Ω—è, 14:20</small>
                    </div>
                    <div class="tx-amount negative">-1200 ‚Ç∏</div>
                </div>
            </div>
        </section>

        <section id="tab-profile" class="screen profile-screen">
            <div class="driver-dashboard glass-panel">
                <div class="dash-header">
                    <span class="dash-title">–ö–∞–±–∏–Ω–µ—Ç –≤–æ–¥–∏—Ç–µ–ª—è</span>
                    <span class="driver-rating">‚≠ê 4.98</span>
                </div>
                
                <button class="rentauto-glass-card glow-hover" onclick="openModal('modal-rentauto')">
                    <div class="rent-content">
                        <div class="rent-text">
                            <h3>Rentauto</h3>
                            <p>–ê—Ä–µ–Ω–¥–∞ –∞–≤—Ç–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã</p>
                        </div>
                        <div class="rent-car-img">üöò</div>
                    </div>
                    <div class="rent-arrow"><ion-icon name="chevron-forward"></ion-icon></div>
                </button>

                <h3>–≠—Ñ–∏—Ä –∑–∞–∫–∞–∑–æ–≤</h3>
                <div class="orders-stream nice-scroll">
                    <div class="order-card glass-card-compact">
                        <div class="route-line">
                            <span class="point a">A</span> –ê–±–∞—è 45
                            <span class="arrow">‚Üí</span>
                            <span class="point b">B</span> –¶–£–ú
                        </div>
                        <div class="order-footer">
                            <span class="price">1500 ‚Ç∏</span>
                            <button class="btn-take-order">–í–∑—è—Ç—å</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <nav class="glass-dock-bar">
        <button class="dock-btn active" onclick="switchTab('home', this)">
            <ion-icon name="home-outline"></ion-icon>
        </button>
        <button class="dock-btn" onclick="switchTab('map', this)">
            <ion-icon name="map-outline"></ion-icon>
        </button>
        
        <button class="dock-btn-ai-large" onmousedown="startAiListening()" onmouseup="stopAiListening()" ontouchstart="startAiListening()" ontouchend="stopAiListening()">
            <div class="ai-icon-combo">
                <span class="letter-a">A</span>
                <span class="letter-i-mic">i<ion-icon name="mic-sharp" class="mic-sub"></ion-icon></span>
            </div>
        </button>
        
        <button class="dock-btn" onclick="switchTab('wallet', this)">
            <ion-icon name="wallet-outline"></ion-icon>
        </button>
        <button class="dock-btn" onclick="switchTab('profile', this)">
            <ion-icon name="person-outline"></ion-icon>
        </button>
    </nav>

    <div id="settings-sidebar" class="glass-sidebar">
        <div class="sidebar-head">
            <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
            <button class="close-btn-icon" onclick="toggleSettings()">‚úï</button>
        </div>
        </div>

    <div id="modal-rentauto" class="glass-modal-overlay hidden">
        <div class="glass-modal-content fade-up">
            <div class="modal-header">
                <h3>–í—ã–±–æ—Ä –∞–≤—Ç–æ–º–æ–±–∏–ª—è</h3>
                <button class="close-modal-btn" onclick="closeAllModals()">‚úï</button>
            </div>
            <div class="rent-cars-grid">
                <div class="rent-car-item glass-box">
                    <div class="car-emoji">üöó</div>
                    <span>Toyota Camry</span>
                    <small>15000 ‚Ç∏/—Å—É—Ç–∫–∏</small>
                </div>
                <div class="rent-car-item glass-box">
                    <div class="car-emoji">üöô</div>
                    <span>Kia K5</span>
                    <small>18000 ‚Ç∏/—Å—É—Ç–∫–∏</small>
                </div>
            </div>
            <button class="action-btn-large glow">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å</button>
        </div>
    </div>

    <div id="modal-wallet-topup" class="glass-modal-overlay hidden">
        <div class="glass-modal-content fade-up">
             <div class="modal-header"><h3>–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞</h3><button class="close-modal-btn" onclick="closeAllModals()">‚úï</button></div>
             <input type="number" placeholder="–°—É–º–º–∞ (‚Ç∏)" class="glass-input-large">
             <div class="card-select glass-box">üí≥ –ö–∞—Ä—Ç–∞ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ 4589</div>
             <button class="action-btn-large glow">–û–ø–ª–∞—Ç–∏—Ç—å</button>
        </div>
    </div>
    <div id="modal-wallet-withdraw" class="glass-modal-overlay hidden"><div class="glass-modal-content fade-up"><div class="modal-header"><h3>–í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤</h3><button class="close-modal-btn" onclick="closeAllModals()">‚úï</button></div><input type="number" placeholder="–°—É–º–º–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞" class="glass-input-large"><button class="action-btn-large">–í—ã–≤–µ—Å—Ç–∏</button></div></div>
     <div id="modal-wallet-transfer" class="glass-modal-overlay hidden"><div class="glass-modal-content fade-up"><div class="modal-header"><h3>–ü–µ—Ä–µ–≤–æ–¥</h3><button class="close-modal-btn" onclick="closeAllModals()">‚úï</button></div><input type="tel" placeholder="–ù–æ–º–µ—Ä –∏–ª–∏ ID –ø–æ–ª—É—á–∞—Ç–µ–ª—è" class="glass-input"><input type="number" placeholder="–°—É–º–º–∞" class="glass-input-large"><button class="action-btn-large">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button></div></div>

    <div id="modal-promo-burger" class="glass-modal-overlay hidden"><div class="glass-modal-content fade-up center-text"><button class="close-modal-btn" onclick="closeAllModals()">‚úï</button><h1>üçî</h1><h3>Burger King</h3><p>–ü–æ–∫–∞–∂–∏—Ç–µ —ç—Ç–æ—Ç —ç–∫—Ä–∞–Ω –∏ –ø–æ–ª—É—á–∏—Ç–µ —Å–∫–∏–¥–∫—É 20%!</p></div></div>
    <div id="modal-promo-cinema" class="glass-modal-overlay hidden"><div class="glass-modal-content fade-up center-text"><button class="close-modal-btn" onclick="closeAllModals()">‚úï</button><h1>üé¨</h1><h3>–ö–∏–Ω–æ–ø–∞—Ä–∫</h3><p>–°–∫–∏–¥–∫–∞ –Ω–∞ –ø–æ–ø–∫–æ—Ä–Ω –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ –±–∏–ª–µ—Ç–∞.</p></div></div>

    <script src="script.js"></script>
</body>
</html>
